"use strict";(self.webpackChunkmsamp_website=self.webpackChunkmsamp_website||[]).push([[501],{8215:function(e,t,n){var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},1395:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(7294),r=n(944),i=n(6010),o="tabItem_vU9c",l="tabItemActive_cw6a";var u=37,d=39;var s=function(e){var t=e.lazy,n=e.block,s=e.defaultValue,c=e.values,m=e.groupId,p=e.className,v=(0,r.Z)(),g=v.tabGroupChoices,k=v.setTabGroupChoices,f=(0,a.useState)(s),b=f[0],h=f[1],x=a.Children.toArray(e.children),T=[];if(null!=m){var D=g[m];null!=D&&D!==b&&c.some((function(e){return e.value===D}))&&h(D)}var y=function(e){var t=e.currentTarget,n=T.indexOf(t),a=c[n].value;h(a),null!=m&&(k(m,a),setTimeout((function(){var e,n,a,r,i,o,u,d;(e=t.getBoundingClientRect(),n=e.top,a=e.left,r=e.bottom,i=e.right,o=window,u=o.innerHeight,d=o.innerWidth,n>=0&&i<=d&&r<=u&&a>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(l),setTimeout((function(){return t.classList.remove(l)}),2e3))}),150))},M=function(e){var t,n;switch(e.keyCode){case d:var a=T.indexOf(e.target)+1;n=T[a]||T[0];break;case u:var r=T.indexOf(e.target)-1;n=T[r]||T[T.length-1]}null==(t=n)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},p)},c.map((function(e){var t=e.value,n=e.label;return a.createElement("li",{role:"tab",tabIndex:b===t?0:-1,"aria-selected":b===t,className:(0,i.Z)("tabs__item",o,{"tabs__item--active":b===t}),key:t,ref:function(e){return T.push(e)},onKeyDown:M,onFocus:y,onClick:y},n)}))),t?(0,a.cloneElement)(x.filter((function(e){return e.props.value===b}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},x.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==b})}))))}},7705:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return s},default:function(){return v},frontMatter:function(){return d},metadata:function(){return c},toc:function(){return m}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=n(1395),l=n(8215),u=["components"],d={id:"using-docker"},s="Using Docker",c={unversionedId:"developer-guides/using-docker",id:"developer-guides/using-docker",isDocsHomePage:!1,title:"Using Docker",description:"MS-AMP provides a Dockerfile to simplify the process of setting up the development environment. Here are some guides on how to build images and start containers during development",source:"@site/../docs/developer-guides/using-docker.mdx",sourceDirName:"developer-guides",slug:"/developer-guides/using-docker",permalink:"/MS-AMP/docs/developer-guides/using-docker",editUrl:"https://github.com/azure/MS-AMP/edit/main/website/../docs/developer-guides/using-docker.mdx",version:"current",frontMatter:{id:"using-docker"},sidebar:"docs",previous:{title:"Development",permalink:"/MS-AMP/docs/developer-guides/development"},next:{title:"Contributing",permalink:"/MS-AMP/docs/developer-guides/contributing"}},m=[{value:"Build image",id:"build-image",children:[]},{value:"Run container",id:"run-container",children:[]}],p={toc:m};function v(e){var t=e.components,n=(0,r.Z)(e,u);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"using-docker"},"Using Docker"),(0,i.kt)("p",null,"MS-AMP provides a Dockerfile to simplify the process of setting up the development environment. Here are some guides on how to build images and start containers during development"),(0,i.kt)("h2",{id:"build-image"},"Build image"),(0,i.kt)("p",null,"You need to ",(0,i.kt)("a",{parentName:"p",href:"/MS-AMP/docs/developer-guides/development#set-up"},"clone the code")," first before building the image."),(0,i.kt)(o.Z,{groupId:"gpu-platform",defaultValue:"cuda-12.1",values:[{label:"CUDA-12.1",value:"cuda-12.1"},{label:"CUDA-11.8",value:"cuda-11.8"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"cuda-12.1",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"export DOCKER_BUILDKIT=1\ndocker buildx build \\\n  --platform linux/amd64 --cache-to type=inline,mode=max \\\n  --tag msamp-dev-cuda121 --file dockerfile/torch2.1-cuda12.1.dockerfile .\n"))),(0,i.kt)(l.Z,{value:"cuda-11.8",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"export DOCKER_BUILDKIT=1\ndocker buildx build \\\n  --platform linux/amd64 --cache-to type=inline,mode=max \\\n  --tag msamp-dev-cuda118 --file dockerfile/torch1.14-cuda11.8.dockerfile .\n")))),(0,i.kt)("h2",{id:"run-container"},"Run container"),(0,i.kt)(o.Z,{groupId:"gpu-platform",defaultValue:"cuda-12.1",values:[{label:"CUDA-12.1",value:"cuda-12.1"},{label:"CUDA-11.8",value:"cuda-11.8"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"cuda-12.1",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"docker run \\\n  -itd --name=msamp-dev \\\n  --privileged --net=host --ipc=host \\\n  --gpus=all \\\n  -w /root -v /mnt:/mnt \\\n  msamp-dev-cuda121 bash\n"))),(0,i.kt)(l.Z,{value:"cuda-11.8",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"docker run \\\n  -itd --name=msamp-dev \\\n  --privileged --net=host --ipc=host \\\n  --gpus=all \\\n  -w /root -v /mnt:/mnt \\\n  msamp-dev-cuda118 bash\n")))))}v.isMDXComponent=!0}}]);